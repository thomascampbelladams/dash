<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>dash: signals.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>signals.h File Reference</h1>  </div>
</div>
<div class="contents">
<code>#include &lt;signal.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/wait.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="ourhdr_8h_source.html">ourhdr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="Job_8h_source.html">Job.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="Node_8h_source.html">Node.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="List_8h_source.html">List.h</a>&quot;</code><br/>

<p><a href="signals_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="signals_8h.html#acb3b9df92b2c192bedb35869d5bae657">initSignals</a> (void(*jb)(void))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initalizes the signals for the signals sent by ctrl-c and ctrl-z to probably manage jobs and/or to simply ignore the signal to keep the dash from exiting on those signals.  <a href="#acb3b9df92b2c192bedb35869d5bae657"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="signals_8h.html#a1cab494579d3c8a8e7e53e5d5e422585">setNode</a> (<a class="el" href="structnode.html">NodePtr</a> <a class="el" href="structnode.html">node</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the node to the nod passed in.  <a href="#a1cab494579d3c8a8e7e53e5d5e422585"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="signals_8h.html#af994317edb8d1100115ca467fc086518">markAsStopped</a> (<a class="el" href="structlist.html">ListPtr</a> l, <a class="el" href="structnode.html">NodePtr</a> n)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Marks a node as stopped by a signal, informs the user it was stopped, and adds it to a job list in the front.  <a href="#af994317edb8d1100115ca467fc086518"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="signals_8h.html#ac466c169a41f198fe899ec2c545b13cd">markAsKilled</a> (<a class="el" href="structnode.html">NodePtr</a> n)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Marks a node as killed by a signal and informas the user it was killed.  <a href="#ac466c169a41f198fe899ec2c545b13cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="signals_8h.html#aabf5d1741ca21d9b6f3adf90d0056bb5">ignoreSignals</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the interrupt and stop signals to be ignored This is used to ensure that background processes do not receive signals meant for the foreground, and that the shell does not send multiple signals to multiple children.  <a href="#aabf5d1741ca21d9b6f3adf90d0056bb5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="signals_8h.html#ad6d128d04996f73d41028d4110ec6777">restoreSignals</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reassigns the interrupt and stop signals to the functions in this file.  <a href="#ad6d128d04996f73d41028d4110ec6777"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="signals_8h.html#a35e90bf0317fbaac975c3f9140a28e92">continueJobInForeground</a> (<a class="el" href="structnode.html">NodePtr</a> nodee, <a class="el" href="structlist.html">ListPtr</a> <a class="el" href="dash_8c.html#ac65771ff99d366ff3015fa760907d9d7">jobList</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Continues a job in the foreground of the dash.  <a href="#a35e90bf0317fbaac975c3f9140a28e92"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="signals_8h.html#a7466feafd6b5bc5c38f44eaea43fd4e6">restoreSignalsAndDetermineStatus</a> (int status, <a class="el" href="structlist.html">ListPtr</a> <a class="el" href="dash_8c.html#ac65771ff99d366ff3015fa760907d9d7">jobList</a>, <a class="el" href="structnode.html">NodePtr</a> n)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resubscribes the interrupt and stop signals to the functions in this file, and marks jubs as stopped or killed depending on their status.  <a href="#a7466feafd6b5bc5c38f44eaea43fd4e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="signals_8h.html#a96b8ec43820e137f1e52a994be0c42ad">continueJobInBackground</a> (<a class="el" href="structnode.html">NodePtr</a> nodee, <a class="el" href="structlist.html">ListPtr</a> <a class="el" href="dash_8c.html#ac65771ff99d366ff3015fa760907d9d7">jobList</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Continues a job in the background of the dash and adds it the front of a job list.  <a href="#a96b8ec43820e137f1e52a994be0c42ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="signals_8h.html#a7f8118293903dcc88b262f70c745fe44">setPrompt</a> (char *prompt)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a96b8ec43820e137f1e52a994be0c42ad"></a><!-- doxytag: member="signals.h::continueJobInBackground" ref="a96b8ec43820e137f1e52a994be0c42ad" args="(NodePtr nodee, ListPtr jobList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void continueJobInBackground </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnode.html">NodePtr</a>&nbsp;</td>
          <td class="paramname"> <em>nodee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlist.html">ListPtr</a>&nbsp;</td>
          <td class="paramname"> <em>jobList</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Continues a job in the background of the dash and adds it the front of a job list. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nodee</em>&nbsp;</td><td>Node that contains the job to continue </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>jobList</em>&nbsp;</td><td>Job List that contains the list of jobs currently managed by the dash </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a35e90bf0317fbaac975c3f9140a28e92"></a><!-- doxytag: member="signals.h::continueJobInForeground" ref="a35e90bf0317fbaac975c3f9140a28e92" args="(NodePtr nodee, ListPtr jobList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void continueJobInForeground </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnode.html">NodePtr</a>&nbsp;</td>
          <td class="paramname"> <em>nodee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlist.html">ListPtr</a>&nbsp;</td>
          <td class="paramname"> <em>jobList</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Continues a job in the foreground of the dash. </p>
<p>Note: This does not use a jump to return to the main function as undefined behavior was observed from the program when it utilized it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nodee</em>&nbsp;</td><td>Node that contains the job to continue </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>jobList</em>&nbsp;</td><td>Job List that contains the list of jobs currently managed by the dash </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aabf5d1741ca21d9b6f3adf90d0056bb5"></a><!-- doxytag: member="signals.h::ignoreSignals" ref="aabf5d1741ca21d9b6f3adf90d0056bb5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ignoreSignals </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the interrupt and stop signals to be ignored This is used to ensure that background processes do not receive signals meant for the foreground, and that the shell does not send multiple signals to multiple children. </p>

</div>
</div>
<a class="anchor" id="acb3b9df92b2c192bedb35869d5bae657"></a><!-- doxytag: member="signals.h::initSignals" ref="acb3b9df92b2c192bedb35869d5bae657" args="(void(*jb)(void))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initSignals </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&nbsp;</td>
          <td class="paramname"> <em>jb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initalizes the signals for the signals sent by ctrl-c and ctrl-z to probably manage jobs and/or to simply ignore the signal to keep the dash from exiting on those signals. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jb</em>&nbsp;</td><td>Function pointer to use to jump back to a specific point in the main function loop </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac466c169a41f198fe899ec2c545b13cd"></a><!-- doxytag: member="signals.h::markAsKilled" ref="ac466c169a41f198fe899ec2c545b13cd" args="(NodePtr n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void markAsKilled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnode.html">NodePtr</a>&nbsp;</td>
          <td class="paramname"> <em>n</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Marks a node as killed by a signal and informas the user it was killed. </p>
<p>Note: This does not use a jump to return to the main function as undefined behavior was observed from the program when it utilized it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>NodePtr that contains the job that received the interrupt signal </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af994317edb8d1100115ca467fc086518"></a><!-- doxytag: member="signals.h::markAsStopped" ref="af994317edb8d1100115ca467fc086518" args="(ListPtr l, NodePtr n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void markAsStopped </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlist.html">ListPtr</a>&nbsp;</td>
          <td class="paramname"> <em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnode.html">NodePtr</a>&nbsp;</td>
          <td class="paramname"> <em>n</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Marks a node as stopped by a signal, informs the user it was stopped, and adds it to a job list in the front. </p>
<p>Note: This does not use a jump to return to the main function as undefined behavior was observed from the program when it utilized it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>l</em>&nbsp;</td><td>ListPtr to add the node to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>NodePtr that contains the job that received the stop signal that will be added to the list </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad6d128d04996f73d41028d4110ec6777"></a><!-- doxytag: member="signals.h::restoreSignals" ref="ad6d128d04996f73d41028d4110ec6777" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void restoreSignals </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reassigns the interrupt and stop signals to the functions in this file. </p>

</div>
</div>
<a class="anchor" id="a7466feafd6b5bc5c38f44eaea43fd4e6"></a><!-- doxytag: member="signals.h::restoreSignalsAndDetermineStatus" ref="a7466feafd6b5bc5c38f44eaea43fd4e6" args="(int status, ListPtr jobList, NodePtr n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void restoreSignalsAndDetermineStatus </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlist.html">ListPtr</a>&nbsp;</td>
          <td class="paramname"> <em>jobList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnode.html">NodePtr</a>&nbsp;</td>
          <td class="paramname"> <em>n</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resubscribes the interrupt and stop signals to the functions in this file, and marks jubs as stopped or killed depending on their status. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>Status of the child process that exited </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>jobList</em>&nbsp;</td><td>List of jobs managed by the dash </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>NodePtr that contains the job that exited </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1cab494579d3c8a8e7e53e5d5e422585"></a><!-- doxytag: member="signals.h::setNode" ref="a1cab494579d3c8a8e7e53e5d5e422585" args="(NodePtr node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnode.html">NodePtr</a>&nbsp;</td>
          <td class="paramname"> <em>nodee</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the node to the nod passed in. </p>
<p>Used for references in this file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nodee</em>&nbsp;</td><td>Node to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7f8118293903dcc88b262f70c745fe44"></a><!-- doxytag: member="signals.h::setPrompt" ref="a7f8118293903dcc88b262f70c745fe44" args="(char *prompt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setPrompt </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>prompt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Fri Dec 9 2011 for dash by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
